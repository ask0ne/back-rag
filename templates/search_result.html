<div class="p-8 rounded-lg space-y-5" style="background-color: rgba(231, 236, 239, 0.05); border: 1px solid rgba(231, 236, 239, 0.1);">
    <div class="flex items-center justify-between flex-wrap gap-3">
        <div class="flex items-center space-x-4">
            {% if source == "document" %}
            <span class="px-4 py-1.5 rounded-full text-sm font-medium" style="background-color: rgba(231, 236, 239, 0.2); color: #E7ECEF;">ğŸ“„ Document</span>
            {% else %}
            <span class="px-4 py-1.5 rounded-full text-sm font-medium" style="background-color: rgba(219, 88, 90, 0.2); color: #DB585A;">ğŸŒ Web</span>
            {% endif %}
            <div class="flex items-center space-x-3">
                <span class="text-xs opacity-60" style="color: #E7ECEF;">Confidence:</span>
                <div class="flex items-center space-x-2">
                    <div class="w-24 h-2.5 rounded-full overflow-hidden" style="background-color: rgba(231, 236, 239, 0.2);">
                        <div class="h-full rounded-full transition-all" style="width: {{ confidence_pct }}%; background-color: {{ confidence_color }};"></div>
                    </div>
                    <span class="text-sm font-mono font-semibold" style="color: {{ confidence_color }};">{{ confidence_pct }}%</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="p-4 rounded-lg text-sm leading-relaxed" style="background-color: rgba(231, 236, 239, 0.03); color: #E7ECEF; opacity: 0.85;">
        <span class="font-medium opacity-100">ğŸ’¡ Reasoning: </span>{{ reasoning }}
    </div>
    
    <div class="pt-2">
        <p class="text-lg leading-relaxed" style="color: #E7ECEF; line-height: 1.7;">{{ answer|safe }}</p>
    </div>
    
    {% if context_snippets %}
    <div class="mt-6 space-y-3">
        <p class="text-xs uppercase tracking-wider font-semibold opacity-70" style="color: #E7ECEF;">ğŸ“š Sources:</p>
        <div class="grid gap-3">
            {% for snippet in context_snippets[:3] %}
            <div class="p-4 rounded-lg border" style="background-color: rgba(231, 236, 239, 0.03); border-color: rgba(231, 236, 239, 0.15);">
                <p class="text-sm leading-relaxed opacity-90" style="color: #E7ECEF;">{{ snippet|truncate(200) }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>